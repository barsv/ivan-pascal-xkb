<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head><script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app222.us.archive.org';v.server_ms=316;archive_analytics.send_pageview({});});</script>
<script type="text/javascript" src="/_static/js/bundle-playback.js?v=KTqwAcYd" charset="utf-8"></script>
<script type="text/javascript" src="/_static/js/wombat.js?v=UHAOicsW" charset="utf-8"></script>
<script type="text/javascript">
  __wm.init("https://web.archive.org/web");
  __wm.wombat("http://pascal.tsu.ru:80/en/xkb/setup.html","20190727020850","https://web.archive.org/","web","/_static/",
	      "1564193330");
</script>
<link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css?v=fantwOh2" />
<link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css?v=qtvMKcIJ" />
<!-- End Wayback Rewrite JS Include -->

<meta http-equiv="Content-Type" content="text/html; charset=windows-1251"/>
<title>Ivan Pascal (Homepage)</title>
<style type="text/css" media="all">@import url(/web/20190727020850cs_/http://pascal.tsu.ru/css/style.css);</style>
</head>
<body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
</style>
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;">
<div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
<div id="donato" style="position:relative;width:100%;">
  <div id="donato-base">
    <iframe id="donato-if" src="https://archive.org/includes/donate.php?as_page=1&amp;platform=wb&amp;referer=https%3A//web.archive.org/web/20190727020850/http%3A//pascal.tsu.ru/en/xkb/setup.html"
	    scrolling="no" frameborder="0" style="width:100%; height:100%">
    </iframe>
  </div>
</div><div id="wm-ipp-inside">
  <div id="wm-toolbar" style="position:relative;display:flex;flex-flow:row nowrap;justify-content:space-between;">
    <div id="wm-logo" style="/*width:110px;*/padding-top:12px;">
      <a href="/web/" title="Wayback Machine home page"><img src="/_static/images/toolbar/wayback-toolbar-logo-200.png" srcset="/_static/images/toolbar/wayback-toolbar-logo-100.png, /_static/images/toolbar/wayback-toolbar-logo-150.png 1.5x, /_static/images/toolbar/wayback-toolbar-logo-200.png 2x" alt="Wayback Machine" style="width:100px" border="0" /></a>
    </div>
    <div class="c" style="display:flex;flex-flow:column nowrap;justify-content:space-between;flex:1;">
      <form class="u" style="display:flex;flex-direction:row;flex-wrap:nowrap;" target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="http://pascal.tsu.ru/en/xkb/setup.html" onfocus="this.focus();this.select();" style="flex:1;"/><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20190727020850" /><input type="submit" value="Go" />
      </form>
      <div style="display:flex;flex-flow:row nowrap;align-items:flex-end;">
		<div class="s" id="wm-nav-captures" style="flex:1;">
	  	  <a class="t" href="/web/20190727020850*/http://pascal.tsu.ru/en/xkb/setup.html" title="See a list of every capture for this URL">71 captures</a>
	  <div class="r" title="Timespan for captures of this URL">29 Mar 2004 - 28 Aug 2019</div>
	  </div>
	<div class="k">
	  <a href="" id="wm-graph-anchor">
	    <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
	      <canvas id="wm-sparkline-canvas" width="675" height="27" border="0"></canvas>
	    </div>
	  </a>
	</div>
      </div>
    </div>
    <div class="n">
      <table>
	<tbody>
	  <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
	  <tr class="m">
	    <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20190625141132/http://pascal.tsu.ru:80/en/xkb/setup.html" title="25 Jun 2019"><strong>Jun</strong></a></td>
	    <td class="c" id="displayMonthEl" title="You are here: 02:08:50 Jul 27, 2019">JUL</td>
	    <td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20190828170739/http://pascal.tsu.ru:80/en/xkb/setup.html" title="28 Aug 2019"><strong>Aug</strong></a></td>
	  </tr>
	  <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
	  <tr class="d">
	    <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20190625141132/http://pascal.tsu.ru:80/en/xkb/setup.html" title="14:11:32 Jun 25, 2019"><img src="/_static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a></td>
	    <td class="c" id="displayDayEl" style="width:34px;font-size:22px;white-space:nowrap;" title="You are here: 02:08:50 Jul 27, 2019">27</td>
	    <td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20190828170739/http://pascal.tsu.ru:80/en/xkb/setup.html" title="17:07:39 Aug 28, 2019"><img src="/_static/images/toolbar/wm_tb_nxt_on.png" alt="Next capture" width="14" height="16" border="0" /></a></td>
	  </tr>
	  <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
	  <tr class="y">
	    <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20180717003145/http://pascal.tsu.ru:80/en/xkb/setup.html" title="17 Jul 2018"><strong>2018</strong></a></td>
	    <td class="c" id="displayYearEl" title="You are here: 02:08:50 Jul 27, 2019">2019</td>
	    <td class="f" nowrap="nowrap">2020</td>
	  </tr>
	</tbody>
      </table>
    </div>
    <div class="r" style="display:flex;flex-flow:column nowrap;align-items:flex-end;justify-content:space-between;">
      <div id="wm-btns" style="text-align:right;height:23px;">
        	<span class="xxs">
          <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a id="wm-save-snapshot-open" href="#"
	     title="Share via My Web Archive" >
            <span class="iconochive-web"></span>
          </a>
          <a href="https://archive.org/account/login.php" title="Sign In" id="wm-sign-in">
            <span class="iconochive-person"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
	</span>
        	<a class="xxs" href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
	<a id="wm-tb-close" href="#close" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share" class="xxs">
        <a href="/web/20190727020850/http://web.archive.org/screenshot/http://pascal.tsu.ru/en/xkb/setup.html"
           id="wm-screenshot"
           title="screenshot">
          <span class="wm-icon-screen-shot"></span>
        </a>
        <a href="#" id="wm-video" title="video">
          <span class="iconochive-movies"></span>
        </a>
	<a id="wm-share-facebook" href="#" data-url="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru:80/en/xkb/setup.html" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
	<a id="wm-share-twitter" href="#" data-url="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru:80/en/xkb/setup.html" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
      <div style="padding-right:2px;text-align:right;white-space:nowrap;">
	<a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span class="xxs" style="font-size:80%;">About this capture</span></a>
      </div>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
                    <div id="wm-capinfo-collected-by">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
            <div style="display:inline-block;vertical-align:top;width:50%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls);"></span>
		Organization: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
    </div>
    </div>
    <div id="wm-capinfo-timestamps">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="/_static/images/loading.gif" alt="loading" /></div>
    </div>
    </div>
  </div></div></div></div><div id="wm-ipp-print">The Wayback Machine - https://web.archive.org/web/20190727020850/http://pascal.tsu.ru:80/en/xkb/setup.html</div>
<script type="text/javascript">//<![CDATA[
__wm.bt(675,27,25,2,"web","http://pascal.tsu.ru/en/xkb/setup.html","20190727020850",1996,"/_static/",["/_static/css/banner-styles.css?v=fantwOh2","/_static/css/iconochive.css?v=qtvMKcIJ"], false);
  __wm.rw(1);
//]]></script>
<!-- END WAYBACK TOOLBAR INSERT -->

<div style="position:absolute; top:10; right:0; z-index:3"><img src="/web/20190727020850im_/http://pascal.tsu.ru/img/logo.jpg"/>
<div style=" font-size:11px;">
<a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/en/">ENGLISH</a> | 
<a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/">KOI</a> | 
<a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/win/">WIN</a> | 
<a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/alt/">ALT</a> | 
<a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/iso/">ISO</a></div>
</div>

<div id="head"><h2>Иван Паскаль</h2>
<div class="anotation">
Этот сайт посвящен описанию Операционной Системы
<noindex><a href="https://web.archive.org/web/20190727020850/http://www.freebsd.org/">FreeBSD</a></noindex> (одна из разновидностей Unix). 
<br/>
Я его сделал для того, чтобы хоть немного восполнить недостаток
документации, особенно на русском языке.<a href="unix"> Полная "Table of Contents"</a>
</p>
</div>
</div>


<table width="100%">
<tr>
<td width="300" valign="top">

<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/add/adding.html">Добавление компонент из дистрибутива</a></div>
	<ul>
		<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/add/packages.html">Установка "пакетов" (packages)</a></li>
		<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/add/ports.html">Установка "портов" (ports)</a></li>
		<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/add/sysinst.html">С помощью программы sysinstall</a></li>
		<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/add/manualy.html">Установка "вручную"</a></li>
	</ul>
</div>
<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/users0.html">Работа администратора с user account</a></div>
<ul>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/users1.html">Что такое &quot;учетная карточка&quot;?</a> </li>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/users2.html">Что  хранится в учетной карточке?</a> </li>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/users3.html">Для чего используется учетная карточка?</a> </li>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/users4.html">Где хранятся учетные карточки?</a> </li>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/users5.html">Добавление пользователя</a></li>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/users6.html">Редактирование данных учетной карточки?</a> </li>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/users7.html">Удаление пользователя</a></li>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/users8.html">Права пользователя на учетную карточку</a></li>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/users9.html">Временная блокировка пользователя</a></li>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/users10.html">Что еще почитать?</a> </li>
</ul>
</div>
<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/groups.html">Группы (пользователей)</a></div>
<ul>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/groups1.html">Что такое группа?</a> </li>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/groups2.html">Где хранится информация о группах?</a> </li>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/groups3.html">Колличество групп, юзеров в группе, групп у юзера</a></li>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/groups4.html">Как создать или удалить группу?</a> </li>
  <li> <a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/users/groups5.html">Редактирование принадлежности юзера к группе</a> </li>
</ul>
</div>
<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/files/files1.html">Права доступа к файлам</a></div>
<ul>
	<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/files/files2.html">Какие атрибуты файла определяют &quot;право доступа&quot;.</a></li>
	<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/files/files3.html">Основные биты доступа (чтение/запись/выполнение)</a> </li>
	<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/files/files4.html">Дополнительные биты доступа</a> </li>
	<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/files/files5.html">&quot;Странные&quot; сочетания битов доступа.</a> </li>
	<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/files/files6.html">Флаги.</a> </li>
	<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/files/files7.html">С какими правами файл &quot;рождается&quot;</a> </li>
	<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/files/files7a.html">Права после копирования или перемещения</a></li>
	<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/files/files8.html">Как поменять права </a></li>
	<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/files/files9.html">Что делать если этого не хватает?</a> </li>
</ul>
</div>
<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/syscons/syscons.html">Драйвер "системной консоли" - syscons</a></div>
<ul>
  <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/syscons/main.html">Основные возможности syscons</a> </li>
  <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/syscons/screen.html">Дисплей</a> </li>
  <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/syscons/keyboard.html">Клавиатура</a> </li>
  <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/syscons/kbd-examples.html">Примеры изменения назначения клавиш.</a> </li>
  <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/syscons/vidcontrol.html">Программа vidcontrol</a> </li>
  <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/syscons/kbdcontrol.html">Программа kbdcontrol</a> </li>
  <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/syscons/russian.html">Русификация syscons</a> </li>
  <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/syscons/termcap.html">&quot;Взаимопонимание&quot; программ с терминалом </a></li>
  <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/syscons/XWin.html"> Какое отношение это имеет к X-Window?</a> </li>
  <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/syscons/ansi.html">Команды (esc-последовательности) syscons</a> </li>
  <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/syscons/app2.html">Управляющие (&quot;контроловые&quot;) символы</a> </li>
  <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/syscons/app3.html">&quot;Функциональные&quot; клавиши</a> </li>
  <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/syscons/app4.html">Несколько мелких полезных программок.</a> </li>
</ul>
</div>
<div id="block">
<div class="title">Разное</div>
<ul>
	<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/unix/lint/rebuild.html">Перегенерация ядра системы (kernel)</a></li>
	<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/other/frames.html">Фреймы Ethernet.</a></li>
	<li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/other/xkb/">XKB - "клавиатурный модуль" X-Window.</a></li>
</ul>
</div>
<div id="block">
<div class="title">Мои программы</div>
<ul>
	<li><a href="other/xxkb/">Xxkb</a> (для модуля XKB)</li>
	<li><a href="other/xxkb/README">README</a> и <a href="other/xxkb/CHANGES">CHANGES</a>.</li>
</ul>
</div>
</td>

<td class="content" valign="top" align="left"><h2>How to configure XKB.</h2>
  <ul>
    <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/en/xkb/setup.html#database">The XKB 'database'</a></li>
    <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/en/xkb/setup.html#setup">Three methods to describe XKB  		full configuration.</a>
        <ul>
          <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/en/xkb/setup.html#1">The first method.</a></li>
          <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/en/xkb/setup.html#2">The second method.</a></li>
          <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/en/xkb/setup.html#3">The third method.</a></li>
        </ul>
    </li>
    <li><a href="https://web.archive.org/web/20190727020850/http://pascal.tsu.ru/en/xkb/setup.html#suggest">Some suggestions.</a></li>
  </ul>
  <h3><a name="database" id="database">The XKB 'database'</a></h3>
  <p>At the Xserver start its keyboard module XKB reads all needed data  from text files that are the 'database' of the XKB configuration.</p>
  <p>Strictly speaking most of these files XKB doesn't read itself.  It calls <strong>xkbcomp</strong> to translate these files to a  binary form that XKB can understand.</p>
  <p>But for users this is not important  because <strong>xkbcomp</strong> is called automatically and this  action is invisible for users.</p>
  <p> The XKB configuration database consists of 5 components:</p>
  <dl>
    <dt><strong>keycodes</strong></dt>
    <dd>tables that define symbolic names for key scan-codes <br/>
      For example <br/>
      &lt;TLDE&gt;= 49; <br/>
      &lt;AE01&gt; = 10; </dd>
    <dt><strong>types</strong></dt>
    <dd>describes key types. A key type defines, how the code  produced by a key must be changed in dependence of 'modifiers'  (Control, Shift and so on).    For example 'letter' keys have type ALPHABETIC. This  means that they will produce different codes depending on  the states of the [Shift] and [CapsLock] keys.    The [Enter] key has another type: ONE_LEVEL. That means  that its code is always the same independent of any  modifiers state. </dd>
    <dt><strong>compat</strong> (abridged from compatibility)</dt>
    <dd>describes modifiers 'behavior'. XKB has some  internal variables that finally define, symbol will  be produced when a key is pssed in every specific case.  The 'compat' files describe, how these internal variables  must change when any modifier key pssed.    These files also describe the behaviour of the  LED-indicators on the keyboard.</dd>
    <dt><strong>symbols</strong></dt>
    <dd>This is the main table in which for every scan-code  (the symbolic names are defined in 'keycodes') all posible  values ('symbols') are specified.    Of course the number of such values depends on the key type  (that is described in 'types') and what value will result  in a specific case depends on the modifiers state and their  behavior (described in 'compat').</dd>
    <dt><strong>geometry</strong></dt>
    <dd> describes keyboard geometry -  key placement on a physical keyboard. This description XKB  doesn't use by itself but it can be useful for  applications like <strong>xkbprint</strong> that draw keyboard images.</dd>
  </dl>
  <p>All these components correcpond to subdirectories  in directory <strong>{XROOT}/lib/X11/xkb</strong>.  (I will write it as <strong>{XKBROOT}</strong>).</p>
  <p>It must be mentioned that every such directory  has several files (sometimes many) with different  settings. Each file can contain several sections  (parts, blocks) like</p>
  <p>   component_type &quot;section_name&quot; {........};  </p>
  <p>So to specify a single setting one has to write something like <br/>
      <strong>file_name(section_name)</strong> <br/>
    for example <br/>
  <strong>us(pc104)</strong> </p>
  <p>At the same time usually one of sections in such file  is marked with 'flag' <strong>default</strong>. For example</p>
  <p>        xkb_symbols &quot;pc101&quot; {...};  default xkb_symbols &quot;pc101euro&quot; {...};          xkb_symbols &quot;pc102&quot; {...};          xkb_symbols &quot;pc102euro&quot; {...};  </p>
  <p>This means that if one specifies only a file name,  this section from the file will be used.</p>
  <h3><a name="setup" id="setup">Three methods to describe XKB  full configuration.</a></h3>
  <p>All components needed for XKB configuration can be described in  the Keyboard section of the X server config file.</p>
  <h4><a name="1" id="1">The first method.</a></h4>
  <p>The first way is to specify explicitly every component.  For example</p>
  <p>XkbKeycodes	&quot;xfree86&quot;  XkbTypes	&quot;default&quot;  XkbCompat	&quot;default&quot;  XkbSymbols	&quot;us(pc104)&quot;  XkbGeometry	&quot;pc(pc104)&quot;  </p>
or for XFree86 4.x version
<p>Option	&quot;XkbKeycodes&quot;	&quot;xfree86&quot;  Option	&quot;XkbTypes&quot;	&quot;default&quot;  Option	&quot;XkbCompat&quot;	&quot;default&quot;  Option	&quot;XkbSymbols&quot;	&quot;us(pc104)&quot;  Option	&quot;XkbGeometry&quot;	&quot;pc(pc104)&quot;  </p>
<p>As you guess it means that</p>
<ul>
  <li><strong>keycodes</strong> description must be taken  	from file <strong>&quot;xfree86&quot;</strong> from <strong>{XKBROOT}/keycodes</strong> directory and namely section marked <strong>default</strong> from  	this file;</li>
  <li><strong>types</strong> description must be taken from file <strong>&quot;default&quot;</strong> from <strong>{XKBROOT}/types</strong> directory;</li>
  <li><strong>compat</strong> description must be taken from file <strong>&quot;default&quot;</strong> from <strong>{XKBROOT}/compat</strong> directory;</li>
  <li> <strong>symbols</strong> description must be taken from file <strong>&quot;us&quot;</strong> from <strong>{XKBROOT}/symbols</strong> directory,  	section <strong>&quot;pc104&quot;</strong>;</li>
  <li><strong>geometry</strong> description must be taken from file <strong>&quot;pc&quot;</strong> from <strong>{XKBROOT}/geometry</strong> directory,  	section <strong>&quot;pc104&quot;</strong>;</li>
</ul>
<p>It needs to be mentioned that any section in any component can  contain an instruction</p>
<p><strong>include &quot;file_name(section_name)&quot;</strong> (of course section_name can be omitted)</p>
<p>That means (as you guess) that some other description  must be inserted from specified file/section to current section.</p>
<p>So the full description can include data from many other files  besides files you explicitly specify in the X server configuration  file.</p>
<h4><a name="2" id="2">The second method.</a></h4>
<p>You can specify the full set of components by one name.  Such components sets are named <strong>keymaps</strong> and like  single components are placed in separate files (that  can contain any number of sections) in <strong>{XKBROOT}/keymap</strong> directory.</p>
<p>Usually every <strong>keymap</strong> section contains  'include' instructions only that define from which files  XKB has to get every component. (In the most general case it  can contain a full description of every component.) For example</p>
<p>xkb_keymap &quot;ru&quot;	{      xkb_keycodes	{ include &quot;xfree86&quot;		};      xkb_types		{ include &quot;default&quot;		};      xkb_compatibility	{ include &quot;default&quot;		};      xkb_symbols		{ include &quot;en_US(pc105)+ru&quot;	};      xkb_geometry 	{ include &quot;pc(pc102)&quot;		};  };  </p>
Note that one <strong>include</strong> instruction can contain several  files (sections) separated by &quot;+&quot; signs. Of course it means  that all these sections must be inserted sequentially.
<p>Thus you can specify one complete <strong>keymap</strong> instead of  five separate components. For example</p>
<p>XkbKeymap	&quot;xfree86(ru)&quot;  </p>
or for XFree86 4.x
<p>Option	&quot;XkbKeymap&quot;	&quot;xfree86(ru)&quot;  </p>
Unfortunately this method is very unflexible. Since XKB  ignores all other options when an XkbKeymap option is found,  you can't 'tune' a single component in the X server  configuration file.
<h4><a name="3" id="3">The third method.</a></h4>
<p>And here is the third method that differs from the  two pvious methods.</p>
<p>A configuration can be defined not only by a components  list, but in terms of 'Rules', 'Model', 'Layout', 'Variant'  and 'Options'. In this list only 'Rules' is a file that  contains a table of rules that tell how to select all five  components in dependence of the values of 'Model', 'Layout', etc.</p>
<p>All other terms are 'keywords' only that are used to search  component files (<strong>keycodes, types, compat, symbols</strong> and <strong>geometry</strong>) in the <strong>rules</strong> table. Of course this  search will be performed by XKB itself at startup time.</p>
<p>In the other words 'Rules' defines a function  (in mathematical meaning) which arguments are 'Model',  'Layout', 'Variant' and 'Options'. And the return  value is a vector of components - <strong>keycodes, types, compat, symbols</strong> and <strong>geometry</strong> (or a full <strong>keymap</strong>).</p>
<p>The Rules files also are placed in the <strong>{XKBROOT}/rules</strong> directory. If you look at such file, you can find lines that begin  with a &quot;!&quot; sign. This is 'pattern' that describes,  how to interpt the following lines (rules itself).</p>
<p>For example pattern</p>
<p>! model = keycodes	geometry  </p>
means that the following lines are rules and specify how  to select <strong>keycodes</strong> and <strong>geometry</strong> files  by 'Model' value. For example
<p>pc104 = xfree86 pc(pc104)  </p>
means that if 'Model' value is <strong>&quot;pc104&quot;</strong> word so <strong>keycodes</strong> must be taken from <strong>{XKBROOT}/keycodes/xfree86</strong> file and <strong>geometry</strong> must be taken from <strong>{XKBROOT}/geometry/pc</strong> file <strong>&quot;pc104&quot;</strong> section. <br/>
And for example pattern
<p>! model	layout	=  symbols  </p>
means that the following lines define, how to select <strong>symbols</strong> file and section in dependence of 'Model'  and 'Layout' values.
<p>You can see also, that some lines from <strong>rules</strong> file can contain  wildcards - &quot;*&quot; sign. It means that you cannot only use  words listed in rules file. If XKB can't find specified  words exactly in left parts of rules it will anyway  select appropriate component file name. <br/>
  For example rule </p>
<p>! model	layout	=	symbols  ....     *	  *	=	en_US(pc102)+%l%(v)  </p>
means that if your 'Model' and 'Layout' was not found in pvious lines  XKB has to take <strong>pc102</strong> section from <strong>en_US</strong> file as <strong>symbols</strong> and add to it a section which name is  defined by 'Variant' value from a file which name is  defined by 'Layout' value. (Thus in some case argument  values can be file or section names. But in the  common case they are 'keywords' only).
<p>Also you can see that... <br/>
  not all these terms are mandatory. Usually 'Model' and  'Layout' (and of course - 'Rules') are enough and Variant  and/or Options are needed in some cases only. <br/>
  And also -</p>
<ul>
  <li>Model usually defines hardware (keyboard) type.</li>
  <li>Layout defines language (or rather alphabet) - which  	letters must be bound to keyboard keys.</li>
  <li>Variant - means variant of letter placement  	on the keyboard of a language (Layout).</li>
  <li>Options - usually defines behavior or  	placement of modifier keys Control and Group_switch  	(group_switch is switch for languages, for example          English/Russian).</li>
</ul>
<p>By the way note that although all Options consist of  two words separated by a &quot;:&quot; sign, it doesn't mean that  you can compose new options from two such parts of  different options.</p>
<p>So if you decide to use the third method, you need to  write in the X server configuration file XkbRules, XkbModel,  XkbLayout words and if you need something non-standard,  you have to write also XkbVariant and XkbOptions. <br/>
  For example</p>
<p>XkbRules	&quot;xfree86&quot;  XkbModel	&quot;pc104&quot;  XkbLayout	&quot;ru&quot;  XkbVariant	&quot;&quot;  XkbOptions	&quot;ctrl:ctrl_ac&quot;  </p>
or for XFree86 4.x
<p>Option	&quot;XkbRules&quot;	&quot;xfree86&quot;  Option	&quot;XkbModel&quot;	&quot;pc104&quot;  Option	&quot;XkbLayout&quot;	&quot;ru&quot;  Option	&quot;XkbVariant&quot;	&quot;&quot;  Option	&quot;XkbOptions&quot;	&quot;ctrl:ctrl_ac&quot;  </p>
that means XKB has to
<ul>
  <li>in accordance with rules described in <strong>{XKBROOT}/rules/xfree86</strong> file choose settings for</li>
  <li>keyboard <strong>&quot;pc104&quot;</strong> type (104 buttons),</li>
  <li>Russian alphabet (English alphabet will be included by default), </li>
  <li>default variant (so this line can be omitted)</li>
  <li>and finally - additional options for your 'keyboard map' - <strong>&quot;ctrl:ctrl_aa&quot;</strong>.</li>
</ul>
<p>By the way, you can find descriptions - what meaning  has what option and what Models and Layouts are defined  in Rules (and what they mean) in <strong>xfree86.lst</strong> file  (or another <strong>*.lst</strong> file if you use no <strong>xfree86</strong> rules) that is placed in the same directory <strong>{XKBROOT}/rules</strong>.</p>
<h3><a name="suggest" id="suggest">Some suggestions.</a></h3>
<p>These suggestions were written for Russian users,  so all examples assume that the needed language (alphabet)  is Russian. Also note that the Cyrillic (Russian)  alphabet is very different from Latin one, so in Russian  'symbols map' Latin and Cyrillic are placed in different  XKB 'symbols group' and so russian users need a special  'group_switch' key to switch between these groups.</p>
<p>All examples are written for XFree 3.x version.  If you use XFree 4.x I hope you understand how to change it.</p>
<h4>The simplest way is to use special program  for X's configuration.</h4>
<p>In XFree86 this program has the name XF86Setup. It  uses the third method for XKB configuration with rules  (<strong>XkbRules</strong>) - xfree86. All you need is to choose  'Model' (<strong>XkbModel</strong>), 'Layout' (<strong>XkbLayout</strong>) and  'group_switcher' (&quot;Russian/Latin&quot; switcher).</p>
<p>Also if you need you can change 'Ctrl key place'.  Of course in file it will look like <strong>XkbOptions</strong> lines.</p>
<p> So, let's run the XF86Setup program and choose the <strong>Keyboard</strong> section. In this screen you have to choose  from menu <strong>Model</strong> (keyboard type) and <strong>Layout</strong> (language). Don't forget to choose needed 'group_switcher'  and (if you want) - 'Ctrl place'.</p>
<p>When you exit the program, it will write appropriate  lines to the Keyboard section of the XFree configuration file.</p>
<p>But if you want to write such lines manually,  I can make some suggestions.</p>
<p>First of all note that 'key words' will be</p>
<ul>
  <li><strong>xfree86</strong> - X-Window 'architecture' name;</li>
  <li><strong>pc101</strong> (<strong>pc104, pc105</strong> and so on) -  	keyboard type (number of buttons);</li>
  <li><strong>ru</strong> - name of 'symbols map' with  	needed alphabet.</li>
</ul>
(If you have another architecture/hardware/alphabet you have to change  these words accordingly.)
<h4>Let's begin with the second method - full keymap.</h4>
<p>There are sets of full <strong>keymaps</strong>&quot; for <strong>xfree86</strong> architecture (in XKB configuration files) that differ in language.  They are all placed in <strong>xfree86</strong> file and the section names  reflect names of languages (or alphabets) - <strong>xfree86(us), xfree86(fr), xfree86(ru)</strong> and so on.  The full list of <strong>keymaps</strong> you can find in the <strong>{XKBROOT}/keymap.dir</strong> file.</p>
<p>For 'russified' keyboard appropriate keymap is</p>
<p>XkbKeymap	&quot;xfree86(ru)&quot;  </p>
<p>Unfortunately some time ago russian full keymap had  a 'default group_swither' inside <strong>symbols</strong> file,  but frome some XFree version this switcher was removed  from <strong>symbols</strong> (it is right because an 'alphabetical'  symbols map is not the appropriate place for such keys).  But at the same time such switcher was not added in any  place in any russian <strong>keymap</strong>. Therefore if you  choose this method, you can't switch on Russian  language anyway.</p>
<p>The only way to add this group_switcher is to edit <strong>{XKBROOT}/keymap/xfree86</strong> file.  You can find this file in your system, then go to  section &quot;ru&quot; in this file and add to line <strong>xkb_symbols</strong> appropriate switcher name.  For <strong>CapsLock</strong> key it is <strong>group(caps_toggle)</strong>.  It means that this line must look like</p>
<p>xkb_symbols 	{ include &quot;en_US(pc105)+ru+group(caps_toggle)&quot;};  </p>
<h4> If you want to use the third method - by Rules, Model, Layout</h4>
<p>As I told above</p>
<ul>
  <li><strong>rules</strong> name must match with  	architecture (<strong>xfree86</strong>);</li>
  <li><strong>model</strong> name must match with  	keyboard type (<strong>pc101, pc102</strong>, etc.);</li>
  <li><strong>layout</strong> name reflects language name  	(<strong>ru</strong>).</li>
</ul>
So an appropriate configuration looks like
<p>XkbRules	&quot;xfree86&quot;  XkbModel	&quot;pc104&quot;  XkbLayout	&quot;ru&quot;  </p>
With help of <strong>XkbOptions</strong> you can choose the  behaviour of modifier keys. Possible values of <strong>XkbOptions</strong> and their descriptions you can see in  the <strong>{XKBROOT}/rules/xfree86.lst</strong> file.
<p>Don't forget that in recent versions of XFree  there is no 'default group_switcher', so you have  to specify it explicitly. For <strong>CapsLock</strong> key  it will be</p>
<p>XkbOptions	&quot;grp:caps_toggle&quot;  </p>
<h4>And finally the first method - by separate XKB  components (keycodes, compat, types, symbols, geometry).</h4>
<p>If you don't know how to begin, you can look at  any appropriate component set in a <strong>keymap</strong> file.  Or try to figure it out from <strong>rules/model/layout</strong>.  (For more details about such 'computation' see <a href="https://web.archive.org/web/20190727020850/http://www.tsu.ru/%7Epascal/en/xkb/examples.html">&quot;Examples:  Where we will make our experiments?&quot;</a>)</p>
<p>I can suggest you</p>
<ul>
  <li>for <strong>keycodes</strong> use <strong>xfree86</strong> value;</li>
  <li>for <strong>types</strong> and <strong>compat</strong> files <strong>default</strong> or <strong>complete</strong> will be suitable;</li>
  <li><strong>geometry</strong> will be <strong>&quot;pc&quot;</strong> (of course only if  	your computer is IBM PC clone) and the number of  	buttons will define name of section in <strong>pc -  	pc(pc101), pc(pc102), pc(pc104)</strong>.  	(The full list of possible geometries you can find in  	the <strong>{XKBROOT}/geometry.dir</strong> file .)</li>
</ul>
<p>The <strong>symbols</strong> require special attention. The <strong>symbols/ru</strong> file describes 'alphabetical' keys only. So if you want to write to the <strong>XkbSymbols</strong> line this file name only you will loose all  other keys (including Enter, Shift/Ctrl/Alt, F1-F12, etc.).</p>
<p>Therefore <strong>symbols</strong> must consist of at least two files - <strong>en_US(pc101)</strong> (section name depends of number of keys)  and <strong>ru</strong> itself. <br/>
  The full list of possible symbols is in <strong>{XKBROOT}/symbols.dir</strong> file.</p>
<p>Also you have to add a description of an appropriate   &quot;Russian/Latin&quot; switcher to <strong>symbols</strong>. Description  of all pdefined group_swithers is in <strong>{XKBROOT}/symbols/group</strong> file.</p>
<p>So for the first method the configuration can look like</p>
<p>XkbKeycodes	&quot;xfree86&quot;  XkbTypes	&quot;complete&quot;  XkbCompat	&quot;complete&quot;  XkbSymbols	&quot;en_US(pc101)+ru+group(caps_toggle)&quot;  XkbGeometry	&quot;pc(pc101)&quot;  </p>
If you additionally want to change the behavior of other control keys  (that in third method was defined by <strong>XkbOptions</strong>), you can find  appropriate addition in <strong>{XKBROOT}/rules/xfree86.lst</strong> file. Then  you have to 'plus' it to the <strong>XkbSymbols</strong> line. For example
<p>XkbSymbols	&quot;en_US(pc101)+ru+group(shift_toggle)+ctrl(ctrl_ac)&quot;  </p></td>
<td width="200" class="links" valign="top" align="left" style="padding-top:150px;">
 
</td>
</tr>
</table>
<div id="copyright">&copy; <a href="https://web.archive.org/web/20190727020850/mailto:pascal@tsu.ru">Иван Паскаль</a></div>
</body>
</html>
<!--
     FILE ARCHIVED ON 02:08:50 Jul 27, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 22:58:38 Aug 11, 2022.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 96.661
  exclusion.robots: 0.448
  exclusion.robots.policy: 0.432
  RedisCDXSource: 4.406
  esindex: 0.02
  LoadShardBlock: 64.15 (3)
  PetaboxLoader3.datanode: 106.954 (4)
  CDXLines.iter: 20.537 (3)
  load_resource: 201.051
  PetaboxLoader3.resolve: 130.829
-->