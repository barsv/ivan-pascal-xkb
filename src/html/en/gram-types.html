<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head><script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app222.us.archive.org';v.server_ms=304;archive_analytics.send_pageview({});});</script>
<script type="text/javascript" src="/_static/js/bundle-playback.js?v=KTqwAcYd" charset="utf-8"></script>
<script type="text/javascript" src="/_static/js/wombat.js?v=UHAOicsW" charset="utf-8"></script>
<script type="text/javascript">
  __wm.init("https://web.archive.org/web");
  __wm.wombat("http://pascal.tsu.ru:80/en/xkb/gram-types.html","20190724070654","https://web.archive.org/","web","/_static/",
	      "1563952014");
</script>
<link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css?v=fantwOh2" />
<link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css?v=qtvMKcIJ" />
<!-- End Wayback Rewrite JS Include -->

<meta http-equiv="Content-Type" content="text/html; charset=windows-1251"/>
<title>Ivan Pascal (Homepage)</title>
<style type="text/css" media="all">@import url(/web/20190724070654cs_/http://pascal.tsu.ru/css/style.css);</style>
</head>
<body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
</style>
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;">
<div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
<div id="donato" style="position:relative;width:100%;">
  <div id="donato-base">
    <iframe id="donato-if" src="https://archive.org/includes/donate.php?as_page=1&amp;platform=wb&amp;referer=https%3A//web.archive.org/web/20190724070654/http%3A//pascal.tsu.ru/en/xkb/gram-types.html"
	    scrolling="no" frameborder="0" style="width:100%; height:100%">
    </iframe>
  </div>
</div><div id="wm-ipp-inside">
  <div id="wm-toolbar" style="position:relative;display:flex;flex-flow:row nowrap;justify-content:space-between;">
    <div id="wm-logo" style="/*width:110px;*/padding-top:12px;">
      <a href="/web/" title="Wayback Machine home page"><img src="/_static/images/toolbar/wayback-toolbar-logo-200.png" srcset="/_static/images/toolbar/wayback-toolbar-logo-100.png, /_static/images/toolbar/wayback-toolbar-logo-150.png 1.5x, /_static/images/toolbar/wayback-toolbar-logo-200.png 2x" alt="Wayback Machine" style="width:100px" border="0" /></a>
    </div>
    <div class="c" style="display:flex;flex-flow:column nowrap;justify-content:space-between;flex:1;">
      <form class="u" style="display:flex;flex-direction:row;flex-wrap:nowrap;" target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="http://pascal.tsu.ru/en/xkb/gram-types.html" onfocus="this.focus();this.select();" style="flex:1;"/><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20190724070654" /><input type="submit" value="Go" />
      </form>
      <div style="display:flex;flex-flow:row nowrap;align-items:flex-end;">
		<div class="s" id="wm-nav-captures" style="flex:1;">
	  	  <a class="t" href="/web/20190724070654*/http://pascal.tsu.ru/en/xkb/gram-types.html" title="See a list of every capture for this URL">37 captures</a>
	  <div class="r" title="Timespan for captures of this URL">16 Aug 2004 - 25 Aug 2019</div>
	  </div>
	<div class="k">
	  <a href="" id="wm-graph-anchor">
	    <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
	      <canvas id="wm-sparkline-canvas" width="675" height="27" border="0"></canvas>
	    </div>
	  </a>
	</div>
      </div>
    </div>
    <div class="n">
      <table>
	<tbody>
	  <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
	  <tr class="m">
	    <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20190622185120/http://pascal.tsu.ru:80/en/xkb/gram-types.html" title="22 Jun 2019"><strong>Jun</strong></a></td>
	    <td class="c" id="displayMonthEl" title="You are here: 07:06:54 Jul 24, 2019">JUL</td>
	    <td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20190825181730/http://pascal.tsu.ru:80/en/xkb/gram-types.html" title="25 Aug 2019"><strong>Aug</strong></a></td>
	  </tr>
	  <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
	  <tr class="d">
	    <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20190622185120/http://pascal.tsu.ru:80/en/xkb/gram-types.html" title="18:51:20 Jun 22, 2019"><img src="/_static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a></td>
	    <td class="c" id="displayDayEl" style="width:34px;font-size:22px;white-space:nowrap;" title="You are here: 07:06:54 Jul 24, 2019">24</td>
	    <td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20190825181730/http://pascal.tsu.ru:80/en/xkb/gram-types.html" title="18:17:30 Aug 25, 2019"><img src="/_static/images/toolbar/wm_tb_nxt_on.png" alt="Next capture" width="14" height="16" border="0" /></a></td>
	  </tr>
	  <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
	  <tr class="y">
	    <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20171012024516/http://pascal.tsu.ru:80/en/xkb/gram-types.html" title="12 Oct 2017"><strong>2017</strong></a></td>
	    <td class="c" id="displayYearEl" title="You are here: 07:06:54 Jul 24, 2019">2019</td>
	    <td class="f" nowrap="nowrap">2020</td>
	  </tr>
	</tbody>
      </table>
    </div>
    <div class="r" style="display:flex;flex-flow:column nowrap;align-items:flex-end;justify-content:space-between;">
      <div id="wm-btns" style="text-align:right;height:23px;">
        	<span class="xxs">
          <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a id="wm-save-snapshot-open" href="#"
	     title="Share via My Web Archive" >
            <span class="iconochive-web"></span>
          </a>
          <a href="https://archive.org/account/login.php" title="Sign In" id="wm-sign-in">
            <span class="iconochive-person"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
	</span>
        	<a class="xxs" href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
	<a id="wm-tb-close" href="#close" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share" class="xxs">
        <a href="/web/20190724070654/http://web.archive.org/screenshot/http://pascal.tsu.ru/en/xkb/gram-types.html"
           id="wm-screenshot"
           title="screenshot">
          <span class="wm-icon-screen-shot"></span>
        </a>
        <a href="#" id="wm-video" title="video">
          <span class="iconochive-movies"></span>
        </a>
	<a id="wm-share-facebook" href="#" data-url="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru:80/en/xkb/gram-types.html" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
	<a id="wm-share-twitter" href="#" data-url="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru:80/en/xkb/gram-types.html" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
      <div style="padding-right:2px;text-align:right;white-space:nowrap;">
	<a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span class="xxs" style="font-size:80%;">About this capture</span></a>
      </div>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
                    <div id="wm-capinfo-collected-by">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
            <div style="display:inline-block;vertical-align:top;width:50%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls);"></span>
		Organization: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
    </div>
    </div>
    <div id="wm-capinfo-timestamps">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="/_static/images/loading.gif" alt="loading" /></div>
    </div>
    </div>
  </div></div></div></div><div id="wm-ipp-print">The Wayback Machine - https://web.archive.org/web/20190724070654/http://pascal.tsu.ru:80/en/xkb/gram-types.html</div>
<script type="text/javascript">//<![CDATA[
__wm.bt(675,27,25,2,"web","http://pascal.tsu.ru/en/xkb/gram-types.html","20190724070654",1996,"/_static/",["/_static/css/banner-styles.css?v=fantwOh2","/_static/css/iconochive.css?v=qtvMKcIJ"], false);
  __wm.rw(1);
//]]></script>
<!-- END WAYBACK TOOLBAR INSERT -->

<div style="position:absolute; top:10; right:0; z-index:3"><img src="/web/20190724070654im_/http://pascal.tsu.ru/img/logo.jpg"/>
<div style=" font-size:11px;">
<a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/en/">ENGLISH</a> | 
<a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/">KOI</a> | 
<a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/win/">WIN</a> | 
<a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/alt/">ALT</a> | 
<a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/iso/">ISO</a></div>
</div>

<div id="head"><h2>Иван Паскаль</h2>
<div class="anotation">
Этот сайт посвящен описанию Операционной Системы
<noindex><a href="https://web.archive.org/web/20190724070654/http://www.freebsd.org/">FreeBSD</a></noindex> (одна из разновидностей Unix). 
<br/>
Я его сделал для того, чтобы хоть немного восполнить недостаток
документации, особенно на русском языке.<a href="unix"> Полная "Table of Contents"</a>
</p>
</div>
</div>


<table width="100%">
<tr>
<td width="300" valign="top">

<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/add/adding.html">Добавление компонент из дистрибутива</a></div>
	<ul>
		<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/add/packages.html">Установка "пакетов" (packages)</a></li>
		<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/add/ports.html">Установка "портов" (ports)</a></li>
		<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/add/sysinst.html">С помощью программы sysinstall</a></li>
		<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/add/manualy.html">Установка "вручную"</a></li>
	</ul>
</div>
<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/users0.html">Работа администратора с user account</a></div>
<ul>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/users1.html">Что такое &quot;учетная карточка&quot;?</a> </li>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/users2.html">Что  хранится в учетной карточке?</a> </li>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/users3.html">Для чего используется учетная карточка?</a> </li>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/users4.html">Где хранятся учетные карточки?</a> </li>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/users5.html">Добавление пользователя</a></li>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/users6.html">Редактирование данных учетной карточки?</a> </li>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/users7.html">Удаление пользователя</a></li>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/users8.html">Права пользователя на учетную карточку</a></li>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/users9.html">Временная блокировка пользователя</a></li>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/users10.html">Что еще почитать?</a> </li>
</ul>
</div>
<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/groups.html">Группы (пользователей)</a></div>
<ul>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/groups1.html">Что такое группа?</a> </li>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/groups2.html">Где хранится информация о группах?</a> </li>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/groups3.html">Колличество групп, юзеров в группе, групп у юзера</a></li>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/groups4.html">Как создать или удалить группу?</a> </li>
  <li> <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/users/groups5.html">Редактирование принадлежности юзера к группе</a> </li>
</ul>
</div>
<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/files/files1.html">Права доступа к файлам</a></div>
<ul>
	<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/files/files2.html">Какие атрибуты файла определяют &quot;право доступа&quot;.</a></li>
	<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/files/files3.html">Основные биты доступа (чтение/запись/выполнение)</a> </li>
	<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/files/files4.html">Дополнительные биты доступа</a> </li>
	<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/files/files5.html">&quot;Странные&quot; сочетания битов доступа.</a> </li>
	<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/files/files6.html">Флаги.</a> </li>
	<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/files/files7.html">С какими правами файл &quot;рождается&quot;</a> </li>
	<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/files/files7a.html">Права после копирования или перемещения</a></li>
	<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/files/files8.html">Как поменять права </a></li>
	<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/files/files9.html">Что делать если этого не хватает?</a> </li>
</ul>
</div>
<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/syscons/syscons.html">Драйвер "системной консоли" - syscons</a></div>
<ul>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/syscons/main.html">Основные возможности syscons</a> </li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/syscons/screen.html">Дисплей</a> </li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/syscons/keyboard.html">Клавиатура</a> </li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/syscons/kbd-examples.html">Примеры изменения назначения клавиш.</a> </li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/syscons/vidcontrol.html">Программа vidcontrol</a> </li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/syscons/kbdcontrol.html">Программа kbdcontrol</a> </li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/syscons/russian.html">Русификация syscons</a> </li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/syscons/termcap.html">&quot;Взаимопонимание&quot; программ с терминалом </a></li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/syscons/XWin.html"> Какое отношение это имеет к X-Window?</a> </li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/syscons/ansi.html">Команды (esc-последовательности) syscons</a> </li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/syscons/app2.html">Управляющие (&quot;контроловые&quot;) символы</a> </li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/syscons/app3.html">&quot;Функциональные&quot; клавиши</a> </li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/syscons/app4.html">Несколько мелких полезных программок.</a> </li>
</ul>
</div>
<div id="block">
<div class="title">Разное</div>
<ul>
	<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/unix/lint/rebuild.html">Перегенерация ядра системы (kernel)</a></li>
	<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/other/frames.html">Фреймы Ethernet.</a></li>
	<li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/other/xkb/">XKB - "клавиатурный модуль" X-Window.</a></li>
</ul>
</div>
<div id="block">
<div class="title">Мои программы</div>
<ul>
	<li><a href="other/xxkb/">Xxkb</a> (для модуля XKB)</li>
	<li><a href="other/xxkb/README">README</a> и <a href="other/xxkb/CHANGES">CHANGES</a>.</li>
</ul>
</div>
</td>

<td class="content" valign="top" align="left"><h2>The xkb_types type file.</h2>
  <p> This file contents describes rules of <strong>shift level</strong> computation  that are used in symbols map. </p>
  <p> I should remind that to each <strong>keycode</strong> (key scan-code) can be bound  from one to four one-line table of <strong>symbols</strong> (symbol code).    Such one-line table must be chosen according to current <strong>group number</strong> and concrete symbol in table must be shosen according to <strong>shift level</strong> value. </p>
  <p> Usualy different groups are used for different alphabets and different  levels are used for small/capital letters. But note that XKB allow to have  up to 64 <strong>shift levels</strong>. </p>
  <p> So the xkb_types type file contents describes <strong>shift level</strong> dependence  on state of modifier keys (<strong>Shift, Control, Alt</strong>, etc.).    Strictly speaking this file describes <strong>key types</strong>. Each type has  any name and type description consists of rules for level calculation. </p>
  <p> Then these types are used in <strong>xkb_symbols</strong> type files where for  each group table bound to keycode its own <strong>key type</strong> can be specified.  But note that for most groups there are &quot;default types&quot; already defined so  in most symbols maps you will not find explicit key type spcifying. </p>
  <p> The <strong>xkb_types</strong> type files can contain records: </p>
  <ul>
    <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/en/xkb/gram-types.html#vmodDec">Virtual modifiers declaration.</a> </li>
    <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/en/xkb/gram-types.html#type">Key type description.</a> </li>
  </ul>
  <h3><a name="vmodDec" id="vmodDec">Virtual modifiers declaration.</a></h3>
  <p> Such record simply itemises virtual modifiers names that cam be met in  followed key type descriptions. </p>
  <p> I should remind that there are eight &quot;traditional&quot; modifiers  (<strong>Shift, Lock, Control, Mod1-Mod5</strong>) named in XKB as <strong>real</strong> modifiers.  And additionaly XKB can have up to 16 own modifiers named as <strong>virtual</strong> modifiers. Usualy their names are <strong>NumLock, ScrollLock, Alt, AltGr</strong>, etc. <br/>
    Modifiers are bound to keys in <strong>xkb_symbols</strong> type files. </p>
  <p> Any key type description can use both real and virtual modifiers.  Since real modifiers always has standard names it is not necessary to  declare these names any where but virtual modifier name can be any so  it can be declared before using in key type descriptions. </p>
  <p> Virtual modifiers declaration looks simple: </p>
  <pre>'virtual_modifiers' modifiers_list  ';'  </pre>
where <strong>modifiers_list</strong> - is simple sequence of modifiers names  divided by comma. For example line
<pre>virtual_modifiers NumLock, Alt;  </pre>
means that besides real modifiers also virtual modifiers <strong>NumLock</strong> and <strong>Alt</strong> can be used in key type descriptions.
<h3><a name="type" id="type">Key type description</a></h3>
<p> This records looks like: </p>
<pre>'type' TypeName '{' Instructions '};'  </pre>
<p> <strong>Type name</strong> is any STRING type constant (or string of symbols in  double quotas). This name is used in <strong>xkb_symbols</strong> files for key type  specifying. </p>
<p> And <strong>Instructions</strong> are some records that looks like value to variable  assignment. Each single instruction must be termonated by semicolon. </p>
<p> Instruction inside key type description can be: </p>
<ul>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/en/xkb/gram-types.html#modifiers">modifiers = ...;</a> </li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/en/xkb/gram-types.html#map">map[...] = ...;</a> </li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/en/xkb/gram-types.html#level_name">level_name[...] = ...;</a> </li>
  <li><a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/en/xkb/gram-types.html#preserve">preserve[...] = ...;</a> </li>
</ul>
<h4><a name="modifiers" id="modifiers">modifiers</a></h4>
<p> This instruction simply itemise real and virtual modifiers that are used  for level computation in this concrete type. If there are more that one  modifier they are concatenated by plus sign. <br/>
  For example: </p>
<pre>modifiers = NumLock;  </pre>
or
<pre>modifiers = Shift+Lock;  </pre>
<h4><a name="map" id="map">map[...]</a></h4>
<p> Namely this instruction describes what level value match to each modifier or  their combination. So inside squere brackets modifier or combination is  specified and at right side of assignment corresponded level value is placed.  For level value one can use &quot;level names&quot; (<strong>Level1, Level2</strong>, etc.)  or simply numeric value. (The xkbcomp program undestand level names from <strong>Level1</strong> to <strong>Level8</strong> only. So if you need level value more than  eight you need to specify it as number.) <br/>
  Also as modifier name the special word &quot;None&quot; can be used. It means  that this instruction defines what level value match to state where all  modifiers are inactive. <br/>
  For example: </p>
<pre>map[None] = Level1;  </pre>
means that if none of modifiers are set the Level1 value must be chosen.
<pre>map[Shift] = Level2;  </pre>
means that if <strong>Shift</strong> is set (and nothing else) the Level2 value  must be chosen..
<pre>map[Control+Alt] = Level3;  </pre>
means that if both <strong>Control</strong> and <strong>Alt</strong> modifiers are active  the Level3 value must be chosen.
<p> Note that in the last example it can be that each of <strong>Control</strong> and <strong>Alt</strong> modifiers separately doesn't match to any level value but only  pressed together can change level. In such case instructions with <strong>map[Control]</strong> and <strong>map[Alt]</strong> will be absent. <br/>
  But <strong>map[None]</strong> usualy presents in each key type description. </p>
<h4><a name="level_name" id="level_name">level_name[...]</a></h4>
<p> This instruction assigns any symbolic name to each level described  in this key type. So inside squere brackets level value (<strong>Level1,  Level2</strong>, etc.) must be specified and at right side any symbols string  (in double quotas) must be placed. <br/>
  For eaxmple, </p>
<pre>level_name[Level1] = &quot;Base&quot;;  level_name[Level2] = &quot;Shifted&quot;;  </pre>
(<strong>levelname</strong> word can be used instead of <strong>level_name</strong>).
<p> I should mention that for XKB work these names (and so these instructions)  doesn't make sense. They can be used by application that shows keyboard state.  But on the other hand X-server &quot;don't like&quot; incomplete description and outputs  error messages if level names are absent in type description. </p>
<h4><a name="preserve" id="preserve">preserve[...]</a></h4>
<p> This instruction needs additional explanation. <br/>
  Remind that X-server sends to application some message about  key press or release event. This message contain keycode and &quot;state&quot;  that is set of modidifiers. </p>
<p> Then this message must be converted to symbols by appropriate Xlib  subroutines using keycode and modifiers set. </p>
<p> In Xlib there are some subroutines that process this message step by step.  Each subroutine performing own step can use only part of modifiers.  To avoid any &quot;side effects&quot; each step subroutine cleans modifiers that  it has used from modifiers set. </p>
<p> But in the same time in some cases such behavior is undesirable and  one of modifiers must be considered by more than one subroutines. </p>
<p> Namely for such cases instruction <strong>preserve</strong> can be used.  There &quot;preserve&quot; means &quot;preserve modifier in state&quot;. </p>
<p> In this instruction in squere brackets modifier (or their combination)  must be specified and it must be the same as in one of <strong>map[...]</strong> isnructions. In right part one has to specify modifier (or combination)  that has to be preserverd. </p>
<p> Note that combination in brackets must be exactly the same as in  one of <strong>map[...]</strong> isnructions. <br/>
  The point is that <strong>preserve[...]</strong> instruction isn't independent one.  In XKB internal data it is continuation of corresponded <strong>map[...]</strong> instruction. <br/>
  But in right part there can be only part of modifiers (or only  one modifier). It means that this level will be chosen when all needed  modifiers are active but only modifier specified in right part has to be  preserved. </p>
<p> Also note that in right side as modifier name the &quot;None&quot; word can be used.  It means that none of modifiers has to be preserved. But since it is  deafault behavior (don't save any modifiers) such instructions doesn't  make sense and can be ommited. </p>
<h3><a name="default_types" id="default_types">Predefined types.</a></h3>
<p> The XKB module already has for key types defined as &quot;default types&quot;: </p>
<ul>
  <li> <strong>&quot;ONE_LEVEL&quot;</strong> - for keys that has only one symbol indpendently  on any modifiers state (<strong>Enter, Escape, Space</strong>, etc.) </li>
  <li> <strong>&quot;TWO_LEVEL&quot;</strong> - for keys with two levels (but non-alphabetical),  the second level can be chosen by <strong>Shift</strong> modifier but this type keys  doesn't depends on <strong>Lock</strong> modifier state. They are keys like 1/!,  2/@, 3/#, etc. </li>
  <li> <strong>&quot;ALPHABETIC&quot;</strong> - for alphabetical keys. They has two levels  (small and capital letters) but in difference from <strong>&quot;TWO_LEVEL&quot;</strong> keys  these keys depends on <strong>Shift</strong> state and on <strong>Lock</strong> state too. </li>
  <li> <strong>&quot;KEYPAD&quot;</strong> - <strong>keypad</strong> keys. Thses keys has two levels too.  But they depends on <strong>NumLock</strong> and <strong>Shift</strong> modifiers state. </li>
</ul>
<p> Note that the number of cells in symbols table in key description  (in <strong>xkb_symbols</strong> file) has to be the same as number of levels in  key type description for this key. </p>
<p> Therefore althogh you can redefine any of &quot;predefined&quot; types (changing  modifiers or laevel names in description) but it's dangerous to change  number of values in these types. If you need more levels for some keys  you can invent new type for them. </p>
<p> Examples of key type description you can find in files from <strong>{XKBROOT}/types/</strong> directory. </p>
<p> And one example of new type invention and usage you can see in section <a href="https://web.archive.org/web/20190724070654/http://pascal.tsu.ru/en/xkb/example1.html">Examples:New type for the Enter key.&quot;</a>. </p></td>
<td width="200" class="links" valign="top" align="left" style="padding-top:150px;">
 
</td>
</tr>
</table>
<div id="copyright">&copy; <a href="https://web.archive.org/web/20190724070654/mailto:pascal@tsu.ru">Иван Паскаль</a></div>
</body>
</html>
<!--
     FILE ARCHIVED ON 07:06:54 Jul 24, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 23:00:08 Aug 11, 2022.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 202.681
  exclusion.robots: 0.273
  exclusion.robots.policy: 0.263
  RedisCDXSource: 0.694
  esindex: 0.011
  LoadShardBlock: 180.249 (3)
  PetaboxLoader3.datanode: 206.963 (4)
  CDXLines.iter: 17.801 (3)
  load_resource: 90.571
  PetaboxLoader3.resolve: 46.592
-->