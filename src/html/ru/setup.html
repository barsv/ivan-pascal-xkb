<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head><script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app210.us.archive.org';v.server_ms=178;archive_analytics.send_pageview({});});</script>
<script type="text/javascript" src="/_static/js/bundle-playback.js?v=KTqwAcYd" charset="utf-8"></script>
<script type="text/javascript" src="/_static/js/wombat.js?v=UHAOicsW" charset="utf-8"></script>
<script type="text/javascript">
  __wm.init("https://web.archive.org/web");
  __wm.wombat("http://pascal.tsu.ru:80/other/xkb/setup.html","20190607224348","https://web.archive.org/","web","/_static/",
	      "1559947428");
</script>
<link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css?v=fantwOh2" />
<link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css?v=qtvMKcIJ" />
<!-- End Wayback Rewrite JS Include -->

<meta http-equiv="Content-Type" content="text/html; charset=windows-1251"/>
<title>Ivan Pascal (Homepage)</title>
<style type="text/css" media="all">@import url(/web/20190607224348cs_/http://pascal.tsu.ru/css/style.css);</style>
</head>
<body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
</style>
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;">
<div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
<div id="donato" style="position:relative;width:100%;">
  <div id="donato-base">
    <iframe id="donato-if" src="https://archive.org/includes/donate.php?as_page=1&amp;platform=wb&amp;referer=https%3A//web.archive.org/web/20190607224348/http%3A//pascal.tsu.ru/other/xkb/setup.html"
	    scrolling="no" frameborder="0" style="width:100%; height:100%">
    </iframe>
  </div>
</div><div id="wm-ipp-inside">
  <div id="wm-toolbar" style="position:relative;display:flex;flex-flow:row nowrap;justify-content:space-between;">
    <div id="wm-logo" style="/*width:110px;*/padding-top:12px;">
      <a href="/web/" title="Wayback Machine home page"><img src="/_static/images/toolbar/wayback-toolbar-logo-200.png" srcset="/_static/images/toolbar/wayback-toolbar-logo-100.png, /_static/images/toolbar/wayback-toolbar-logo-150.png 1.5x, /_static/images/toolbar/wayback-toolbar-logo-200.png 2x" alt="Wayback Machine" style="width:100px" border="0" /></a>
    </div>
    <div class="c" style="display:flex;flex-flow:column nowrap;justify-content:space-between;flex:1;">
      <form class="u" style="display:flex;flex-direction:row;flex-wrap:nowrap;" target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="http://pascal.tsu.ru/other/xkb/setup.html" onfocus="this.focus();this.select();" style="flex:1;"/><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20190607224348" /><input type="submit" value="Go" />
      </form>
      <div style="display:flex;flex-flow:row nowrap;align-items:flex-end;">
		<div class="s" id="wm-nav-captures" style="flex:1;">
	  	  <a class="t" href="/web/20190607224348*/http://pascal.tsu.ru/other/xkb/setup.html" title="See a list of every capture for this URL">43 captures</a>
	  <div class="r" title="Timespan for captures of this URL">31 Dec 2003 - 10 Sep 2019</div>
	  </div>
	<div class="k">
	  <a href="" id="wm-graph-anchor">
	    <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
	      <canvas id="wm-sparkline-canvas" width="675" height="27" border="0"></canvas>
	    </div>
	  </a>
	</div>
      </div>
    </div>
    <div class="n">
      <table>
	<tbody>
	  <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
	  <tr class="m">
	    <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20190407011740/http://pascal.tsu.ru:80/other/xkb/setup.html" title="07 Apr 2019"><strong>Apr</strong></a></td>
	    <td class="c" id="displayMonthEl" title="You are here: 22:43:48 Jun 07, 2019">JUN</td>
	    <td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20190708181431/http://pascal.tsu.ru:80/other/xkb/setup.html" title="08 Jul 2019"><strong>Jul</strong></a></td>
	  </tr>
	  <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
	  <tr class="d">
	    <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20190508044851/http://pascal.tsu.ru:80/other/xkb/setup.html" title="04:48:51 May 08, 2019"><img src="/_static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a></td>
	    <td class="c" id="displayDayEl" style="width:34px;font-size:22px;white-space:nowrap;" title="You are here: 22:43:48 Jun 07, 2019">07</td>
	    <td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20190708181431/http://pascal.tsu.ru:80/other/xkb/setup.html" title="18:14:31 Jul 08, 2019"><img src="/_static/images/toolbar/wm_tb_nxt_on.png" alt="Next capture" width="14" height="16" border="0" /></a></td>
	  </tr>
	  <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
	  <tr class="y">
	    <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20180601120218/http://pascal.tsu.ru:80/other/xkb/setup.html" title="01 Jun 2018"><strong>2018</strong></a></td>
	    <td class="c" id="displayYearEl" title="You are here: 22:43:48 Jun 07, 2019">2019</td>
	    <td class="f" nowrap="nowrap">2020</td>
	  </tr>
	</tbody>
      </table>
    </div>
    <div class="r" style="display:flex;flex-flow:column nowrap;align-items:flex-end;justify-content:space-between;">
      <div id="wm-btns" style="text-align:right;height:23px;">
        	<span class="xxs">
          <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a id="wm-save-snapshot-open" href="#"
	     title="Share via My Web Archive" >
            <span class="iconochive-web"></span>
          </a>
          <a href="https://archive.org/account/login.php" title="Sign In" id="wm-sign-in">
            <span class="iconochive-person"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
	</span>
        	<a class="xxs" href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
	<a id="wm-tb-close" href="#close" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share" class="xxs">
        <a href="/web/20190607224348/http://web.archive.org/screenshot/http://pascal.tsu.ru/other/xkb/setup.html"
           id="wm-screenshot"
           title="screenshot">
          <span class="wm-icon-screen-shot"></span>
        </a>
        <a href="#" id="wm-video" title="video">
          <span class="iconochive-movies"></span>
        </a>
	<a id="wm-share-facebook" href="#" data-url="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru:80/other/xkb/setup.html" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
	<a id="wm-share-twitter" href="#" data-url="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru:80/other/xkb/setup.html" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
      <div style="padding-right:2px;text-align:right;white-space:nowrap;">
	<a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span class="xxs" style="font-size:80%;">About this capture</span></a>
      </div>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
                    <div id="wm-capinfo-collected-by">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
            <div style="display:inline-block;vertical-align:top;width:50%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls);"></span>
		Organization: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
    </div>
    </div>
    <div id="wm-capinfo-timestamps">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="/_static/images/loading.gif" alt="loading" /></div>
    </div>
    </div>
  </div></div></div></div><div id="wm-ipp-print">The Wayback Machine - https://web.archive.org/web/20190607224348/http://pascal.tsu.ru:80/other/xkb/setup.html</div>
<script type="text/javascript">//<![CDATA[
__wm.bt(675,27,25,2,"web","http://pascal.tsu.ru/other/xkb/setup.html","20190607224348",1996,"/_static/",["/_static/css/banner-styles.css?v=fantwOh2","/_static/css/iconochive.css?v=qtvMKcIJ"], false);
  __wm.rw(1);
//]]></script>
<!-- END WAYBACK TOOLBAR INSERT -->

<div style="position:absolute; top:10; right:0; z-index:3"><img src="/web/20190607224348im_/http://pascal.tsu.ru/img/logo.jpg"/>
<div style=" font-size:11px;">
<a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/en/">ENGLISH</a> | 
<a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/">KOI</a> | 
<a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/win/">WIN</a> | 
<a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/alt/">ALT</a> | 
<a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/iso/">ISO</a></div>
</div>

<div id="head"><h2>Иван Паскаль</h2>
<div class="anotation">
Этот сайт посвящен описанию Операционной Системы
<noindex><a href="https://web.archive.org/web/20190607224348/http://www.freebsd.org/">FreeBSD</a></noindex> (одна из разновидностей Unix). 
<br/>
Я его сделал для того, чтобы хоть немного восполнить недостаток
документации, особенно на русском языке.<a href="unix"> Полная "Table of Contents"</a>
</p>
</div>
</div>


<table width="100%">
<tr>
<td width="300" valign="top">

<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/add/adding.html">Добавление компонент из дистрибутива</a></div>
	<ul>
		<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/add/packages.html">Установка "пакетов" (packages)</a></li>
		<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/add/ports.html">Установка "портов" (ports)</a></li>
		<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/add/sysinst.html">С помощью программы sysinstall</a></li>
		<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/add/manualy.html">Установка "вручную"</a></li>
	</ul>
</div>
<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/users0.html">Работа администратора с user account</a></div>
<ul>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/users1.html">Что такое &quot;учетная карточка&quot;?</a> </li>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/users2.html">Что  хранится в учетной карточке?</a> </li>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/users3.html">Для чего используется учетная карточка?</a> </li>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/users4.html">Где хранятся учетные карточки?</a> </li>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/users5.html">Добавление пользователя</a></li>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/users6.html">Редактирование данных учетной карточки?</a> </li>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/users7.html">Удаление пользователя</a></li>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/users8.html">Права пользователя на учетную карточку</a></li>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/users9.html">Временная блокировка пользователя</a></li>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/users10.html">Что еще почитать?</a> </li>
</ul>
</div>
<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/groups.html">Группы (пользователей)</a></div>
<ul>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/groups1.html">Что такое группа?</a> </li>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/groups2.html">Где хранится информация о группах?</a> </li>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/groups3.html">Колличество групп, юзеров в группе, групп у юзера</a></li>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/groups4.html">Как создать или удалить группу?</a> </li>
  <li> <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/users/groups5.html">Редактирование принадлежности юзера к группе</a> </li>
</ul>
</div>
<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/files/files1.html">Права доступа к файлам</a></div>
<ul>
	<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/files/files2.html">Какие атрибуты файла определяют &quot;право доступа&quot;.</a></li>
	<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/files/files3.html">Основные биты доступа (чтение/запись/выполнение)</a> </li>
	<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/files/files4.html">Дополнительные биты доступа</a> </li>
	<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/files/files5.html">&quot;Странные&quot; сочетания битов доступа.</a> </li>
	<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/files/files6.html">Флаги.</a> </li>
	<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/files/files7.html">С какими правами файл &quot;рождается&quot;</a> </li>
	<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/files/files7a.html">Права после копирования или перемещения</a></li>
	<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/files/files8.html">Как поменять права </a></li>
	<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/files/files9.html">Что делать если этого не хватает?</a> </li>
</ul>
</div>
<div id="block">
<div class="title"><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/syscons/syscons.html">Драйвер "системной консоли" - syscons</a></div>
<ul>
  <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/syscons/main.html">Основные возможности syscons</a> </li>
  <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/syscons/screen.html">Дисплей</a> </li>
  <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/syscons/keyboard.html">Клавиатура</a> </li>
  <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/syscons/kbd-examples.html">Примеры изменения назначения клавиш.</a> </li>
  <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/syscons/vidcontrol.html">Программа vidcontrol</a> </li>
  <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/syscons/kbdcontrol.html">Программа kbdcontrol</a> </li>
  <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/syscons/russian.html">Русификация syscons</a> </li>
  <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/syscons/termcap.html">&quot;Взаимопонимание&quot; программ с терминалом </a></li>
  <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/syscons/XWin.html"> Какое отношение это имеет к X-Window?</a> </li>
  <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/syscons/ansi.html">Команды (esc-последовательности) syscons</a> </li>
  <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/syscons/app2.html">Управляющие (&quot;контроловые&quot;) символы</a> </li>
  <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/syscons/app3.html">&quot;Функциональные&quot; клавиши</a> </li>
  <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/syscons/app4.html">Несколько мелких полезных программок.</a> </li>
</ul>
</div>
<div id="block">
<div class="title">Разное</div>
<ul>
	<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/unix/lint/rebuild.html">Перегенерация ядра системы (kernel)</a></li>
	<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/other/frames.html">Фреймы Ethernet.</a></li>
	<li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/other/xkb/">XKB - "клавиатурный модуль" X-Window.</a></li>
</ul>
</div>
<div id="block">
<div class="title">Мои программы</div>
<ul>
	<li><a href="other/xxkb/">Xxkb</a> (для модуля XKB)</li>
	<li><a href="other/xxkb/README">README</a> и <a href="other/xxkb/CHANGES">CHANGES</a>.</li>
</ul>
</div>
</td>

<td class="content" valign="top" align="left"><h2>Настройка XKB.</h2>
  <ul>
    <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/other/xkb/setup.html#tables">База данных, необходимых XKB,</a> </li>
    <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/other/xkb/setup.html#setup">Три способа задания полной конфигурации XKB.</a>
        <ul>
          <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/other/xkb/setup.html#1">Первый способ.</a> </li>
          <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/other/xkb/setup.html#2">Второй способ.</a> </li>
          <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/other/xkb/setup.html#3">Третий способ.</a> </li>
        </ul>
    </li>
    <li><a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/other/xkb/setup.html#suggest">Несколько практических рекомендаций.</a> </li>
  </ul>
  <p> При старте X-сервера, модуль XKB зачитывает все необходимые данные  из текстовых файлов, которые образуют &quot;базу данных&quot; настроек XKB. </p>
  <p> Строго говоря, большинство из этих файлов сам модуль XKB не читает.  Он вызывает программу <strong>xkbcomp</strong>, которая переводит содержимое этих файлов  в двоичный формат, понятный непосредственно модулю XKB. </p>
  <p> Но для настройки это не так уж важно, поскольку вызов <strong>xkbcomp</strong> происходит  автоматически, незаметно для пользователя. <a name="tables" id="tables"></a> </p>
  <p> База данных, необходимых XKB, состоит из 5 компонентов </p>
  <dl>
    <dt><strong>keycodes</strong></dt>
    <dd> таблицы, которые просто задают символические имена для скан-кодов. <br/>
      Например <br/>
      &lt;TLDE&gt;= 49; <br/>
      &lt;AE01&gt; = 10; </dd>
    <dt><strong>types</strong></dt>
    <dd> описывает типы клавиш. Тип клавиши определяет - как должно  меняться значение, выдаваемое клавишей в зависимости от модификаторов  (Control, Shift и т.п.). Так, например, &quot;буквенные&quot; клавиши относятся  к типу ALPHABETIC, что означает, что они имеют разное значение в зависимости  от состояния Shift и CapsLock. А клавиша [Enter] имеет тип - ONE_LEVEL,  что означает, что ее значение всегда одно и то же, независимо от состояния  модификаторов. </dd>
    <dt><strong>compat</strong> (сокращенное от compability)</dt>
    <dd> описывает &quot;поведение&quot; модификаторов.   В XKB имеется несколько внутренних переменных, которые, в конечном счете,  и определяют - какой символ будет генерироваться при нажатии клавиши в  конкретной ситуации.    Так вот, в compat как-раз описывается - как должны меняться эти переменные  при нажатии различных клавиш-модификаторов. В этом же разделе обычно  описывается и поведение &quot;лампочек&quot;-индикаторов на клавиатуре. </dd>
    <dt><strong>symbols</strong></dt>
    <dd> таблицы, в которых для каждого скан-кода (имени скан-кода,  определенного в keycodes) перечисляются все значения (symbols), которые  должна выдавать клавиша. Естественно, количество различных значений  зависит от типа клавиши (котрые описываются в types), а какое именно  значение будет выдано в конкретной ситуации, определяется состоянием  модификаторов и их &quot;поведением&quot; (которое описывается в compat) </dd>
    <dt><strong>geometry</strong></dt>
    <dd> описывает &quot;геометрию&quot; клавиатуры - то есть расположение клавиш  на клавиатуре. Эти описания нужны не столько самому X-серверу, сколько  прикладным программам, которые рисуют изображение клавиатуры. </dd>
  </dl>
  <p> Все эти компоненты разложены по одноименным директориям в директории <strong>{XROOT}/lib/X11/xkb</strong> (в дальнейшем, я буду обозначать ее <strong>{XKBROOT}</strong>). </p>
  <p> Надо сказать, что в каждой такой директории имеется несколько файлов  (иногда, довольно много) с разными настройками. Более того, каждый  файл внутри себя может содержать несколько блоков (секций, разделов)  типа </p>
  <p>   тип_компонента &quot;имя_блока&quot; {........};  </p>
  <p> Поэтому, для того, чтобы выбрать конкретную настройку, ее обычно  указывают в виде <br/>
      <strong>имя_файла(имя_блока)</strong> <br/>
    например, <br/>
      <strong>us(pc104)</strong> </p>
  <p> В тоже время, обычно один из блоков в файле (не обязательно самый первый)  помечается флагом <strong>default</strong>, например </p>
  <p>        xkb_symbols &quot;pc101&quot; {...};  default xkb_symbols &quot;pc101euro&quot; {...};          xkb_symbols &quot;pc102&quot; {...};          xkb_symbols &quot;pc102euro&quot; {...};  </p>
  <p> Это означает, что если указать только имя файла, то будет выбран именно  этот блок. </p>
  <h2><a name="setup" id="setup">Три способа задания полной конфигурации XKB.</a></h2>
  <p> Весь набор компонентов, необходимых для настройки XKB, описывается  в файле конфигурации X-сервера в секции <strong>Keyboard</strong>. </p>
  <h3><a name="1" id="1">Первый способ.</a></h3>
  <p> Первый способ задания конфигурации заключается в том, что вы можете  указать непосредственно каждый из компонентов, например </p>
  <p>XkbKeycodes	&quot;xfree86&quot;  XkbTypes	&quot;default&quot;  XkbCompat	&quot;default&quot;  XkbSymbols	&quot;us(pc104)&quot;  XkbGeometry	&quot;pc(pc104)&quot;  </p>
  <p> Как легко догадаться, это означает, что </p>
  <ul>
    <li> описание <strong>keycodes</strong> берется из файла <strong>&quot;xfree86&quot;</strong> в директории <strong>{XKBROOT}/keycodes</strong>, причем из файла будет выбран тот блок,  который помечен в нем флагом <strong>default</strong>; </li>
    <li> описание <strong>types</strong> берется из файла <strong>&quot;default&quot;</strong> в директории <strong>{XKBROOT}/types</strong>; </li>
    <li> описание <strong>compat</strong> берется из файла <strong>&quot;default&quot;</strong> в директории <strong>{XKBROOT}/compat</strong>; </li>
    <li> описание <strong>symbols</strong> берется из файла <strong>&quot;us&quot;</strong> в директории <strong>{XKBROOT}/symbols</strong>,  блок <strong>&quot;pc104&quot;</strong>; </li>
    <li> описание <strong>geometry</strong> берется из файла <strong>&quot;pc&quot;</strong> в директории <strong>{XKBROOT}/geometry</strong>,  блок <strong>&quot;pc104&quot;</strong>; </li>
  </ul>
  <p> Надо заметить, что в любом блоке (в любых компонентах) может встретиться  инструкция </p>
  <p> <strong>include &quot;имя_файла(имя_блока)&quot;</strong> (естественно, имя_блока может отсутствовать) </p>
  <p> что, как нетрудно догадаться, означает, что в текущий блок должно быть  вставлено другое описание из указанного файла (указанного блока). </p>
  <p> Поэтому полное описание может неявно включать в себя данные из многих  других файлов, кроме тех, которые вы явно укажете в файле конфигурации  X-сервера. </p>
  <h3><a name="2" id="2">Второй способ.</a></h3>
  <p> Второй способ заключается в том, что вы можете указать одной инструкцией  сразу полный набор настроек. Такие наборы называются <strong>keymaps</strong> и, также  как и обычные компоненты конфигурации XKB, располагаются в отдельных  файлах (которые, тоже содержат в себе несколько именованных блоков) в  директории <strong>{XKBROOT}/keymap</strong>. </p>
  <p> Обычно, каждом блоке <strong>keymap</strong> просто указывается - из каких файлов XKB  должен извлечь соответствующие компоненты (хотя, в принципе, там может быть  и полное описание всех компонентов), например </p>
  <p>xkb_keymap &quot;ru&quot;	{      xkb_keycodes	{ include &quot;xfree86&quot;		};      xkb_types		{ include &quot;default&quot;		};      xkb_compatibility	{ include &quot;default&quot;		};      xkb_symbols		{ include &quot;en_US(pc105)+ru&quot;	};      xkb_geometry 	{ include &quot;pc(pc102)&quot;		};  };  </p>
Обратите внимание, что в одной инструкции <strong>include</strong> может быть указано  несколько файлов (блоков) через знак &quot;+&quot;. Понятно, что это означает, что  должны быть вставлены последовательно все указанные файлы.
<p> Таким образом, в файле конфигурации X-сервера можно вместо пяти компонентов  указать сразу один их готовых наборов - <strong>keymap</strong>'ов, например </p>
<p>XkbKeymap	&quot;xfree86(ru)&quot;  </p>
Кроме того, эти два способа можно комбинировать. Например, если вы выбрали  одну из подходящих <strong>keymap</strong>, но вас не устраивает один из компонентов, например <strong>geometry</strong>, то в файле конфигурации можно указать
<p>XkbKeymap	&quot;xfree86(ru)&quot;  XkbGeometry	&quot;pc(pc104)&quot;  </p>
<p> При этом, в соответствии с первой инструкцией, все компоненты будут взяты  из <strong>keymap &quot;xfree86(ru)&quot;</strong>, а вторая инструкция &quot;перепишет&quot; <strong>geometry</strong>, не  затрагивая остальные компоненты (хотя я в этом не уверен :) </p>
<h3><a name="3" id="3">Третий способ.</a></h3>
<p> И, наконец, третий способ. Он несколько отличается от предыдущих. </p>
<p> Набор настроек можно указывать не перечислением компонентов, а с помощью  задания &quot;правил&quot; (Rules), &quot;модели&quot; (Model), &quot;схемы&quot; (Layout), &quot;варианта&quot;  (Variant) и &quot;опций&quot; (Option). В этом наборе только Rules представляют собой  некий файл, в котором находится таблица правил - &quot;как выбрать все пять  компонентов настроек XKB в зависимости от значений Model, Layout и т.д.&quot;. </p>
<p> Все остальные параметры представляют собой просто &quot;ключевые слова&quot; по  которым в таблицах &quot;правил&quot; ищутся подходящие файлы настроек (<strong>keycodes,  types, compat, symbols</strong> и <strong>geometry</strong>). Естественно, искать будет сам  модуль XKB при старте. </p>
<p> Другими словами, Rules определяет некоторую функцию, аргументами которой  являются Model, Layout, Variant и Options, а значение, которое возвращает  эта функция представляет собой полный набор из компонентов настроек XKB - <strong>keycodes, types, compat, symbols</strong> и <strong>geometry</strong> (или полная <strong>keymap</strong>). </p>
<p> Если рассмотреть какой-нибудь файл rules (эти файлы тоже находятся в <strong>{XKBROOT}</strong> в поддиректории <strong>rules</strong>), то можно заметить, что в них есть строчки,  начинающиеся со знака &quot;!&quot;. Это &quot;шаблоны&quot;, которые описывают - как  интерпретировать следующие за ними строчки &quot;правил&quot;. </p>
<p> Например, &quot;шаблон&quot; </p>
<p>! model = keycodes	geometry  </p>
говорит о том, что в следующих строках описываются правила - как по имени  &quot;модели&quot; XKB должен выбрать файлы <strong>keycodes</strong> и <strong>geometry</strong>.    Например,
<p>pc104 = xfree86 pc(pc104)  </p>
надо понимать так, что если значение аргумента Model - слово <strong>&quot;pc104&quot;</strong>,  то <strong>keycodes</strong> надо взять из файла <strong>{XKBROOT}/keycodes/xfree86</strong>, а <strong>geometry</strong> -  из файла <strong>{XKBROOT}/geometry/pc</strong>, блок с именем <strong>&quot;pc104&quot;</strong>. <br/>
А, например, &quot;шаблон&quot;
<p>! model	layout	=	symbols  </p>
говорит о том, что следующие за ним правила описывают - как по названию  &quot;модели&quot; и &quot;схемы&quot; выбрать файл (и блок), с нужными <strong>symbols</strong>.
<p> Рассматривая файл <strong>rules</strong> можно заметить, что в нем также есть строчки  с wildcards - знаком &quot;*&quot;. То есть, в качестве аргументов можно использовать  не только те слова, которые встречаются в &quot;правилах&quot;. Если программа не  найдет указанные вами слова в левой части правила, то все равно подберет  какие-нибудь названия для файлов - компонентов настройки. <br/>
  Например, правило </p>
<p>! model	layout	=	symbols  ....     *	  *	=	en_US(pc102)+%l%(v)  </p>
означает, что если указанные вами Model и Layout не были найдены в предыдущих  правилах, то в качестве <strong>symbols</strong> надо взять блок <strong>pc102</strong> из файла <strong>en_US</strong>, и добавить  к нему блок, название которого задано параметром Variant из файла, название  которого задано аргументом Layout. (Таким образом, в некоторых случаях,  некоторые из параметров могут являться и названиями файлов или блоков. Но  в общем случае это все-таки просто &quot;ключевые слова&quot;).
<p> Можно также заметить, что... <br/>
  Во-первых, не все параметры обязательно задавать  для выбора всех компонентов. Обычно достаточно указать Model и Layout  (ну и, естественно, Rules), а Variant и Options нужны только в некоторых  случаях. <br/>
  А во-вторых, что </p>
<ul>
  <li> Model обычно определяет тип &quot;железа&quot; - клавиатуры; </li>
  <li> Layout - язык или, точнее, алфавит, который &quot;навешивается&quot; на кнопки  клавиатуры; </li>
  <li> Variant - ну &quot;вариант&quot; он и есть вариант - различные варианты размещения  знаков алфавита (заданных Layout'ом); </li>
  <li> Options - обычно меняет &quot;поведение&quot; или &quot;расположение&quot; модификаторов -  Control и Group (переключатель групп - это переключатель &quot;языка&quot;, например -  русский/латинский). </li>
</ul>
<p> Кстати, заметьте также, что хотя Options как правило состоят из двух  слов, разделенных двоеточием, это не означает, что вы можете самостоятельно  комбинировать левую и правую часть (двоеточие в данном случае просто делает  их более понятными). Так, например, в rules есть правила для значений  Options <strong>&quot;grp:toggle&quot;</strong> и <strong>&quot;ctrl:ctrl_aa&quot;</strong>. Но если вы попробуете &quot;сконструировать&quot;  что-то типа <strong>&quot;ctrl:toggle&quot;</strong>, ничего хорошего из этого не получится, поскольку  такого слова в правилах нет. </p>
<p> Итак, если вы используете третий способ указания конфигурации XKB, то в  файле конфигурации X-сервера, надо задать параметры XkbRules, XkbModel,  XkbLayout и, если вам нужно что-то не совсем стандартное - XkbVariant и  XkbOptions. <br/>
  Например, </p>
<p>XkbRules	&quot;xfree86&quot;  XkbModel	&quot;pc104&quot;  XkbLayout	&quot;ru&quot;  XkbVariant	&quot;&quot;  XkbOptions	&quot;ctrl:ctrl_ac&quot;  </p>
означает, что XKB должен
<ul>
  <li> в соответствии с правилами, описанными в файле <strong>{XKBROOT}/rules/xfree86</strong>,  выбрать настройки для </li>
  <li> клавиатуры типа <strong>&quot;pc104&quot;</strong> (104 кнопки), </li>
  <li> русского алфавита (английский алфавит будет включен &quot;по умолчанию&quot;), </li>
  <li> вариант - &quot;стандартный&quot; (то есть, этот параметр можно было не писать) </li>
  <li> и, наконец, дополнительные опции для вашей &quot;раскладки клавиатуры&quot; - <strong>&quot;ctrl:ctrl_aa&quot;</strong>. </li>
</ul>
<p> Кстати, что означают различные опции, а также - какие &quot;модели&quot; и &quot;схемы&quot;  определены в &quot;правилах&quot; (и что они означают) можно посмотреть в файле <strong>xfree86.lst</strong> (или другом файле <strong>*.lst</strong>, если вы выбрали &quot;правила&quot; не <strong>xfree86</strong>),  который находится в той же директории, что и файл &quot;правил&quot;, то есть - <strong>{XKBROOT}/rules</strong>. </p>
<h2><a name="suggest" id="suggest">Несколько практических рекомендаций.</a></h2>
<p> Небольшое отступление - &quot;о клавише - переключателе рус/лат&quot;. <br/>
  Когда был написан первый вариант этих рекомендаций, сама раскладка  &quot;русской&quot; клавиатуры (<strong>symbols/ru</strong>) включала в себя и &quot;переключатель  групп&quot; - рус/лат, &quot;подвешенный&quot; на клавишу <strong>CapsLock</strong>. С одной стороны  это было удобно - в простейшем случае достаточно было выбрать &quot;русскую  раскладку&quot; и вы автоматически получали и клавишу для переключения &quot;на русский&quot;.  Но, с другой стороны, это было неудобно для тех, кто предпочитает в качестве  переключателя рус/лат другую клавишу (или комбинацию клавиш). Конечно, выбрать  другой переключатель не составляло труда, но при этом оставался и переключатель  на CapsLock, что многим не нравилось. Для того, чтобы убрать его, надо было  &quot;залезть&quot; в соответствующий файл и вручную подправлять соответствующую  раскладку. </p>
<p> В конце концов (начиная с версии 3.3.4) сами разработчики XFree убрали  этот &quot;переключатель&quot; из &quot;русской раскладки&quot;. Но, в связи с этим появились  и некторые проблемы - теперь клавишу-переключатель надо явно &quot;заказывать&quot;  при конфигурировании <strong>XKB</strong>. Что я и попытся отразить в своих рекомендациях. <br/>
  Итак... </p>
<h4> Самый простой способ - использовать программу для автоматической настройки  &quot;иксов&quot;.</h4>
<p> В XFree86 такая программа называется XF86Setup. Она использует  третий метод задания конфигурации XKB. При этом &quot;по умолчанию&quot; используются  &quot;правила&quot; (<strong>XkbRules</strong>) - xfree86. Вам нужно будет только выбрать  &quot;модель&quot; (<strong>XkbModel</strong>), &quot;схему&quot; (<strong>XkbLayout</strong>) и  &quot;способ переключения групп&quot; (переключатель &quot;РУС/ЛАТ&quot;). </p>
<p> Кроме того, при желании вы можете изменить &quot;положение клавиши Ctrl&quot;.  Естественно, в конфигурации это будет выглядеть как соответствующие строчки <strong>XkbOptions</strong>. </p>
<p> Итак. Запустите программу XF86Setup, выберите раздел <strong>Keyboard</strong>.  В этом разделе выберите из меню <strong>Model</strong> (тип клавиатуры) и <strong>Layout</strong> (язык). Не забудьте отметить в отдельных списках (в правой части)  подходящий &quot;переключатель групп&quot; и, если хотите - &quot;расположение Ctrl&quot;. </p>
<p> При выходе из программы она запишет соответствующие строчки в файл  конфигурации XFree в секции <strong>Keyboard</strong>. </p>
<p> Но, если вы захотите вписать эти строчки самостоятельно, могу дать  еще несколько советов. </p>
<p> Прежде всего, надо сказать, что &quot;ключевыми словами&quot; в этих настройках  будут </p>
<ul>
  <li> <strong>xfree86</strong> - название &quot;архитектуры&quot; X-Window; </li>
  <li> <strong>pc101</strong> (<strong>pc104, pc105</strong> и т.п.) - тип клавиатуры (количество кнопок); </li>
  <li> <strong>ru</strong> - название &quot;раскладки клавиатуры&quot; с русским алфавитом. </li>
</ul>
(Если у вас другая &quot;архитектура&quot;/клавиатура/алфавит, то подберите названия  самостоятельно.)
<p> Итак... </p>
<h4> Начнем со второго способа - полная keymap.</h4>
В файлах конфигурации есть набор &quot;полных <strong>keymap'ов</strong>&quot; для архитектуры <strong>xfree86</strong>,  отличающихся &quot;языком&quot;. Все они лежат в файле <strong>xfree86</strong>, а название блока  внутри файла отражает название &quot;языка&quot; (точнее - алфавита) - <strong>xfree86(us),  xfree86(fr), xfree86(ru)</strong> и т.д. Полный список <strong>keymap'ов</strong> можно посмотреть  в файле <strong>{XKBROOT}/keymap.dir</strong>.
<p> Для &quot;руссифицированной&quot; клавиатуры вполне подойдет </p>
<p>XkbKeymap	&quot;xfree86(ru)&quot;  </p>
<p> К сожалению, после &quot;выкидывания&quot; CapsLock как переключателя рус/лат  из русской раскладки (см. замечание в начале этого раздела) получилось так,  что &quot;полная <strong>keymap</strong>&quot; для русского языка осталась вообще без  какого-либо переключателя &quot;по умолчанию&quot;. Но вы можете добавить его &quot;вручную&quot;.  Для этого придется найти в файле <strong>{XKBROOT}/keymap/xfree86</strong> блок <strong>&quot;ru&quot;</strong>. И дописать в строчку <strong>xkb_symbols</strong> ссылку на описание  соответствующего переключателя групп. Для <strong>CapsLock</strong> это будет - <strong>group(caps_toggle)</strong>. То есть, строчка будет выглядеть как </p>
<p>xkb_symbols 	{ include &quot;en_US(pc105)+ru+group(caps_toggle)&quot;};  </p>
<h4> Если вы выбираете третий способ - через &quot;правила&quot;, &quot;модель&quot;,  &quot;схему&quot; и т.д.</h4>
<p> Как я уже говорил, </p>
<ul>
  <li> название &quot;правил&quot; (<strong>rules</strong>) соответствет &quot;архитектуре&quot; (<strong>xfree86</strong>); </li>
  <li> &quot;модель&quot; (<strong>model</strong>) соответствует типу клавиатуры (<strong>pc101, pc102</strong> и т.п.); </li>
  <li> &quot;схема&quot; (<strong>layout</strong>) отражает &quot;язык&quot; (<strong>ru</strong>). </li>
</ul>
Поэтому, подходящая конфигурация будет выглядеть примерно так -
<p>XkbRules	&quot;xfree86&quot;  XkbModel	&quot;pc104&quot;  XkbLayout	&quot;ru&quot;  </p>
С помощью <strong>XkbOptions</strong> можно подобрать &quot;поведение&quot; управляющих клавиш.  Возможные значения <strong>XkbOptions</strong> и их смысл можно подсмотреть в файле <strong>{XKBROOT}/rules/xfree86.lst</strong>.
<p> Не забудьте, что в последних версиях надо явно выбрать переключатель  групп. Для <strong>CapsLock</strong> это будет - </p>
<p>XkbOptions	&quot;grp:caps_toggle&quot;  </p>
<h4> И, наконец, первый способ - описание отдельных компонентов настройки  (keycodes, compat, types, symbols, geometry).</h4>
<p> Если вы не знаете с чего начать, подсмотрите соответствующий набор  в <strong>keymap</strong>. Или попробуйте &quot;вычислить&quot; его &quot;вручную&quot; через <strong>rules/model/layout</strong>.  (Подробнее об этом можно прочитать в <a href="https://web.archive.org/web/20190607224348/http://pascal.tsu.ru/other/xkb/examples.html">&quot;Примеры: Где будем экспериментировать?&quot;</a>) </p>
<p> Могу посоветовать </p>
<ul>
  <li>- для <strong>keycodes</strong> выбрать файл <strong>xfree86</strong>; </li>
  <li>- для <strong>types</strong> и <strong>compat</strong> подойдут файлы <strong>default</strong> (&quot;по умолчанию&quot;)  	 или <strong>complete</strong> (&quot;полная&quot;); </li>
  <li>- <strong>geometry</strong>, скорее всего, <strong>&quot;pc&quot;</strong>, а количество кнопок задается названием блока  	в файле <strong>pc - pc(pc101), pc(pc102), pc(pc104)</strong>. (Полный список &quot;геометрий&quot; в  	файле <strong>{XKBROOT}/geometry.dir</strong>.) </li>
</ul>
<p> А вот на <strong>symbols</strong> обратите особое внимание. Файл <strong>symbols/ru</strong> описывает только  &quot;буквенные&quot; клавиши. Если вы укажете только его, то у вас не будут работать  все остальные кнопки (включая Enter, Shift/Ctrl/Alt, F1-F12 и т.д.). </p>
<p> Поэтому <strong>symbols</strong> должен состоять по крайней мере из двух файлов - <strong>en_US(pc101)</strong> (в скобках - тип клавиатуры) и, собственно, <strong>ru</strong>. <br/>
  Полный список symbols в файле <strong>{XKBROOT}/symbols.dir</strong>. </p>
<p> Сюда же надо добавить и описание подходящего &quot;переключателя рус/лат&quot; <br/>
  Описание всех возможных переключателей групп находится в файле <strong>{XKBROOT}/symbols/group</strong>. </p>
<p> Итак. Для первого метода список может выглядеть так - </p>
<p>XkbKeycodes	&quot;xfree86&quot;  XkbTypes	&quot;complete&quot;  XkbCompat	&quot;complete&quot;  XkbSymbols	&quot;en_US(pc101)+ru+group(caps_toggle)&quot;  XkbGeometry	&quot;pc(pc101)&quot;  </p>
Если вам хочется дополнительные изменения &quot;поведения&quot; управляющих клавиш  (то, что в третьем методе задается <strong>XkbOptions</strong>), то подсмотрите подходящую  &quot;добавку&quot; в <strong>{XKBROOT}/rules/xfree86.lst</strong> и &quot;приплюсуйте&quot; ее в строчку <strong>XkbSymbols</strong>. Например,
<p>XkbSymbols	&quot;en_US(pc101)+ru+group(shift_toggle)+ctrl(ctrl_ac)&quot;  </p></td>
<td width="200" class="links" valign="top" align="left" style="padding-top:150px;">
 
</td>
</tr>
</table>
<div id="copyright">&copy; <a href="https://web.archive.org/web/20190607224348/mailto:pascal@tsu.ru">Иван Паскаль</a></div>
</body>
</html>
<!--
     FILE ARCHIVED ON 22:43:48 Jun 07, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 18:16:13 Aug 11, 2022.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 79.101
  exclusion.robots: 0.16
  exclusion.robots.policy: 0.153
  cdx.remote: 0.046
  esindex: 0.008
  LoadShardBlock: 58.523 (3)
  PetaboxLoader3.datanode: 42.069 (4)
  CDXLines.iter: 11.943 (3)
  load_resource: 84.94
  PetaboxLoader3.resolve: 57.479
-->
